{"version":3,"sources":["App/Tree/lib/tree.js","WebGL/resources/green.png","WebGL/resources/blue.png","WebGL/resources/red.png","WebGL/resources/cube-logo-green.png","WebGL/resources/cube-logo-blue.png","WebGL/resources/cube-logo-red.png","WebGL/GLCommander/index.js","WebGL/Shaders/ModelShader/locations.js","WebGL/Shaders/ModelShader/vertex.js","WebGL/Shaders/ModelShader/fragment.js","WebGL/Shaders/ModelShader/index.js","WebGL/Node/index.js","WebGL/Utils/maths.js","WebGL/Models/ModelInstance/index.js","WebGL/Render/ModelRenderer/index.js","WebGL/Materials/texture.js","WebGL/Materials/material.js","WebGL/Models/ModelType/index.js","WebGL/Scene/cube.js","WebGL/LightSource/index.js","WebGL/EventHandlers/mouse.js","WebGL/Camera/index.js","WebGL/Event/index.js","WebGL/Scene/index.js","App/Tree/lib/node.js","App/Tree/lib/react-ui-tree.js","App/Tree/index.js","WebGL/EditorUI/Line/index.js","WebGL/EditorUI/Line/BackgroundLine.js","WebGL/index.js","App/index.js","serviceWorker.js","index.js"],"names":["Tree","require","proto","prototype","updateNodesPosition","top","left","root","this","getIndex","self","children","length","walk","parent","collapsed","height","forEach","id","node","move","fromId","toId","placement","obj","remove","index","insertBefore","insertAfter","prepend","append","getNodeByTop","indexes","hasOwnProperty","module","exports","__webpack_require__","p","GLC","clear","r","g","b","a","_this","gl","clearColor","COLOR_BUFFER_BIT","viewport","canvas","width","depthTest","use","enable","DEPTH_TEST","disable","createBuffer","bindArrayBuffer","buffer","bindBuffer","ARRAY_BUFFER","unbindArrayBuffer","addArrayBufferData","vertices","bufferData","Float32Array","STATIC_DRAW","bindElementArrayBuffer","ELEMENT_ARRAY_BUFFER","unbindElementArrayBuffer","addElementArrayBufferData","indices","Uint16Array","createVertexShader","createShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","addShaderSource","shader","source","shaderSource","compileShader","createShaderProgram","createProgram","attachShaderToProgram","program","attachShader","linkProgram","useProgram","getAttribLocation","attribute","enableVertexAttribArray","pointToAttribute","data","dimensions","vertexAttribPointer","FLOAT","drawTriangles","noOfIndices","drawElements","TRIANGLES","UNSIGNED_SHORT","uploadMatrix4fv","location","matrix","uniformMatrix4fv","getUniformLocation","uniform","uploadVec3f","vec3","uniform3fv","uploadFloat","value","uniform1f","uploadInt","uniform1i","uploadBool","createTexture","bindTexture","texture","TEXTURE_2D","activeTexture","TEXTURE0","defineTexture","img","texImage2D","RGBA","UNSIGNED_BYTE","defineDummyTexture","Uint8Array","texturePowerOfTwo","generateMipmap","textureNoPowerOfTwo","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","locations","vertex","concat","Locations","fragment","ModelShader","Object","classCallCheck","compileStatus","getShaderParameter","COMPILE_STATUS","console","error","getShaderInfoLog","enablePosition","positionAttribute","enableTextureCoords","textureCoordsAttribute","enableNormals","normalAttribute","enableTransformationMatrix","transformationMatrix","enableViewProjectionMatrices","view","projection","viewMatrix","projectionMatrix","enableLight","light","lightPosition","getPosition","lightColor","getColor","lightAmbient","getAmbient","vertexShader","VertexSource","fragmentShader","FragmentSource","diffuseTexture","hasDiffuseTexture","Node","_name","instance","modelId","name","modelInstance","setParent","ndx","indexOf","splice","push","updateWorldMatrix","parentWorldMatrix","mi","mat4","multiply","worldMatrix","copy","model","child","toRadians","deg","Math","PI","createTransformationMatrix","x","y","z","rx","ry","rz","sx","sy","sz","identity","translate","fromValues","rotateX","rotateY","rotateZ","scale","ModelInstance","setNode","_node","setPosition","generateTransformationMatrix","generateWorldMatrix","setRotation","setScale","updateRotation","getTransformationMatrix","getWorldMatrix","ModelRenderer","registerNewModel","models","type","instances","addInstance","addToTree","preRender","render","camera","originNode","drawObjects","Shader","originModelInstance","tree","parentNode","wMatrix","i","drawNode","traverse","Texture","loadTexture","url","Image","setAttribute","onload","onLoad","src","isPowerOf2","done","side","hasTexture","Material","addDiffuse","diffuse","_enableDiffuse","ModelType","normals","textureCoords","_genTextureCoordBuffer","textureCoordBuffer","_genNormalBuffer","normalBuffer","_genVertexBuffer","vertexBuffer","_genIndexBuffer","indexBuffer","addMaterial","material","cube","Light","ambient","MouseEvent","MouseListener","init","dragging","onwheel","e","onWheelListeners","listener","onWheel","onmousedown","clientX","clientY","onmouseup","onmousemove","dx","dy","onDragListeners","onDrag","subscribeToDrag","subscribeToWheel","Camera","arguments","undefined","pitch","yaw","roll","near","far","fov","generateMatrices","deltaY","createViewMatrix","createProjectionMatrix","aspectRatio","perspective","Event","sender","_sender","_listeners","attach","detach","notify","args","Scene","webglInstance","document","querySelector","getContext","Cube","modelRenderer","createNewModel","file","modelType","instance2","instance3","Update","UpdateEvent","time","backgroundColor","window","requestAnimationFrame","apply","toConsumableArray","sin","k","UITreeNode","props","possibleConstructorReturn","getPrototypeOf","call","renderCollapse","react_default","createElement","className","cx","onMouseDown","stopPropagation","onClick","handleCollapse","renderChildren","_this$props","childrenStyles","paddingLeft","style","map","childIndex","key","onCollapse","onDragStart","nodeId","handleMouseDown","dom","innerRef","current","React","createRef","_this$props2","placeholder","ref","renderNode","Component","UITree","isNodeCollapsed","changeNodeCollapsed","w","h","getDraggingDom","_this$state","state","draggingIndex","draggingStyles","node_UITreeNode","dragStart","button","offsetWidth","offsetHeight","offsetLeft","offsetTop","_startX","_startY","_offsetX","_offsetY","_start","addEventListener","drag","dragEnd","setState","newIndex","pos","diffX","diffY","next","prev","prevNode","leaf","above","below","change","removeEventListener","_updated","onChange","toggleCollapse","nextProps","draggingDom","defaultProps","TreeComponent","is-active","active","onClickNode","bind","onSelect","handleChange","updateTree","treeData","react_ui_tree_UITree","Line","onNodeSelect","transform","position","rotation","xOnChange","val","target","yOnChange","zOnChange","handleClick","myParseFloat","rotate","changeBG","lineType","action","str","substr","parseFloat","BackgroundLine","greenCube","blueCube","redCube","Transform","WebGL","nodeToTransform","treeSelect","selectedNode","selectedChanged","onKeyPressed","keyCode","deleteFromTree","arr","functiontofindIndexByKeyValue","scene","handleClickGreen","floor","random","counter","toString","handleClickBlue","handleClickRed","findObject","objName","find","selectedTransform","translateBox","rotateBox","scaleBox","handleClick2","assertThisInitialized","handleCheckBoxChange","_treeSelect","Main","_scene","_webgl","refs","linePos","lineRot","lineScale","arraytosearch","valuetosearch","onKeyDown","tabIndex","Tree_TreeComponent","border","EditorUI_Line","values","checked","Line_BackgroundLine","event","defineProperty","Container","styled","div","_templateObject","App","WebGL_WebGL","Boolean","hostname","match","ReactDOM","App_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3daea86d.chunk.js","sourcesContent":["var Tree = require('js-tree');\nvar proto = Tree.prototype;\n\nproto.updateNodesPosition = function() {\n  var top = 1;\n  var left = 1;\n  var root = this.getIndex(1);\n  var self = this;\n\n  root.top = top++;\n  root.left = left++;\n\n  if (root.children && root.children.length) {\n    walk(root.children, root, left, root.node.collapsed);\n  }\n\n  function walk(children, parent, left, collapsed) {\n    var height = 1;\n    children.forEach(function(id) {\n      var node = self.getIndex(id);\n      if (collapsed) {\n        node.top = null;\n        node.left = null;\n      } else {\n        node.top = top++;\n        node.left = left;\n      }\n\n      if (node.children && node.children.length) {\n        height += walk(\n          node.children,\n          node,\n          left + 1,\n          collapsed || node.node.collapsed\n        );\n      } else {\n        node.height = 1;\n        height += 1;\n      }\n    });\n\n    if (parent.node.collapsed) parent.height = 1;\n    else parent.height = height;\n    return parent.height;\n  }\n};\n\nproto.move = function(fromId, toId, placement) {\n  if (fromId === toId || toId === 1) return;\n\n  var obj = this.remove(fromId);\n  var index = null;\n\n  if (placement === 'before') index = this.insertBefore(obj, toId);\n  else if (placement === 'after') index = this.insertAfter(obj, toId);\n  else if (placement === 'prepend') index = this.prepend(obj, toId);\n  else if (placement === 'append') index = this.append(obj, toId);\n\n  // todo: perf\n  this.updateNodesPosition();\n  return index;\n};\n\nproto.getNodeByTop = function(top) {\n  var indexes = this.indexes;\n  for (var id in indexes) {\n    if (indexes.hasOwnProperty(id)) {\n      if (indexes[id].top === top) return indexes[id];\n    }\n  }\n};\n\nmodule.exports = Tree;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAsSURBVDhPY1Ta6MNADcAEpSkGowYRBqMGEQajBhEGowYRBqMGEQaDzSAGBgBVUAFPn8ivcgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAsSURBVDhPY2RufcJADcAEpSkGowYRBqMGEQajBhEGowYRBqMGEQaDzSAGBgBjFQGcRxPEQwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAnSURBVDhPY3gro0IVNGoQYTRqEGE0ahBhNGoQYTRqEGE0bA2SUQEAyfmlX9q5cxgAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/cube-logo-green.a52b5e4a.png\";","module.exports = __webpack_public_path__ + \"static/media/cube-logo-blue.b600e233.png\";","module.exports = __webpack_public_path__ + \"static/media/cube-logo-red.5eb5f69f.png\";","class GLCommander {\n    init(gl){\n        this.gl = gl;\n    }\n\n    clear = (r, g, b, a) => {\n        this.gl.clearColor(r, g, b, a);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    }\n\n    viewport = () => this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    depthTest = (use) => use ? this.gl.enable(this.gl.DEPTH_TEST) : this.gl.disable(this.gl.DEPTH_TEST); \n\n    createBuffer = () => this.gl.createBuffer();\n\n    // float buffers\n\n    bindArrayBuffer = (buffer) => this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n    unbindArrayBuffer = () => this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n    addArrayBufferData = (vertices) => this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(vertices), this.gl.STATIC_DRAW);\n\n    // int buffers\n\n    bindElementArrayBuffer = (buffer) => this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, buffer);\n    unbindElementArrayBuffer = () => this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\n    addElementArrayBufferData = (indices) => this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), this.gl.STATIC_DRAW);\n\n    // shader functions\n\n    createVertexShader = () => this.gl.createShader(this.gl.VERTEX_SHADER);\n    createFragmentShader = () => this.gl.createShader(this.gl.FRAGMENT_SHADER);\n\n    addShaderSource = (shader, source) => this.gl.shaderSource(shader, source);\n    compileShader = (shader) => this.gl.compileShader(shader);\n    createShaderProgram = () => this.gl.createProgram();\n    attachShaderToProgram = (program, shader) => this.gl.attachShader(program, shader);\n    linkProgram = (program) => this.gl.linkProgram(program);\n    useProgram = (program) => this.gl.useProgram(program);\n\n    getAttribLocation = (program, attribute) => this.gl.getAttribLocation(program, attribute);\n    enableVertexAttribArray = (attribute) => this.gl.enableVertexAttribArray(attribute);\n    pointToAttribute = (data, dimensions) => this.gl.vertexAttribPointer(data, dimensions, this.gl.FLOAT, false, 0, 0);\n\n    drawTriangles = (noOfIndices) => this.gl.drawElements(this.gl.TRIANGLES, noOfIndices, this.gl.UNSIGNED_SHORT, 0); \n\n    uploadMatrix4fv = (location, matrix) => this.gl.uniformMatrix4fv(location, false, matrix);\n    getUniformLocation = (program, uniform) => this.gl.getUniformLocation(program, uniform); \n\n    uploadVec3f = (location, vec3) => this.gl.uniform3fv(location, vec3);\n    uploadFloat = (location, value) => this.gl.uniform1f(location, value);\n    uploadInt = (location, value) => this.gl.uniform1i(location, value);\n    uploadBool = (location, value) => this.gl.uniform1i(location, value ? 1: 0);\n\n    createTexture = () => this.gl.createTexture();\n    bindTexture = (texture) => this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    activeTexture = (texture) => this.gl.activeTexture(this.gl.TEXTURE0 + texture);\n    defineTexture = (img) => this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, img);\n    defineDummyTexture = () => this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 255, 255]));\n    texturePowerOfTwo = () => this.gl.generateMipmap(this.gl.TEXTURE_2D);\n    textureNoPowerOfTwo = () => {\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n    }  \n}\n\nconst GLC = new GLCommander();\n\nexport default GLC;","export default {\n    POSITION: 'position',\n    TEXTURE_COORDS: 'textureCoords',\n    NORMAL: 'normal',\n    TRANSFORMATION_MATRIX: 'transformationMatrix',\n    VIEW_MATRIX: 'viewMatrix',\n    PROJECTION_MATRIX: 'projectionMatrix',\n    LIGHT_POSITION: 'lightPosition',\n    LIGHT_COLOR: 'lightColor',\n    LIGHT_AMBIENT: 'lightAmbient',\n    DIFFUSE_TEXTURE: 'diffuseTexture',\n    HAS_DIFFUSE_TEXTURE: 'hasDiffuseTexture',\n\n}","import Locations from './locations';\n\nexport default `\n    precision mediump float;\n    attribute vec3 ${Locations.POSITION};\n    attribute vec2 ${Locations.TEXTURE_COORDS};\n    attribute vec3 ${Locations.NORMAL};\n\n    varying vec3 surfaceNormal;\n    varying vec3 lightVector;\n    varying vec2 pass_textureCoords;\n\n    uniform mat4 ${Locations.TRANSFORMATION_MATRIX};\n    uniform mat4 ${Locations.VIEW_MATRIX};\n    uniform mat4 ${Locations.PROJECTION_MATRIX};\n    uniform vec3 ${Locations.LIGHT_POSITION};\n\n    vec4 getWorldPosition() {\n        return ${Locations.PROJECTION_MATRIX} * ${Locations.VIEW_MATRIX} * ${Locations.TRANSFORMATION_MATRIX} * vec4(${Locations.POSITION}, 1.0);\n    }\n\n    vec3 getSurfaceNormal() {\n        return (${Locations.PROJECTION_MATRIX} * ${Locations.VIEW_MATRIX} * ${Locations.TRANSFORMATION_MATRIX} * vec4(${Locations.NORMAL}, 0.0)).xyz;\n    }\n\n    void main(void) {\n        vec4 worldPos = getWorldPosition();\n        surfaceNormal = getSurfaceNormal();\n        lightVector = ${Locations.LIGHT_POSITION} - worldPos.xyz;\n        gl_Position = worldPos;\n        pass_textureCoords = ${Locations.TEXTURE_COORDS};\n    }\n\n`;","import Locations from './locations';\n\nexport default `\n    precision mediump float;\n    \n    varying vec2 pass_textureCoords;\n    varying vec3 surfaceNormal;\n    varying vec3 lightVector;\n    \n    uniform sampler2D ${Locations.DIFFUSE_TEXTURE};\n    uniform int ${Locations.HAS_DIFFUSE_TEXTURE};\n\n    uniform float ${Locations.LIGHT_AMBIENT};\n    uniform vec3 ${Locations.LIGHT_COLOR};\n\n    vec4 getDiffuseTexture(){\n        if(${Locations.HAS_DIFFUSE_TEXTURE} == 1) {\n            return texture2D(${Locations.DIFFUSE_TEXTURE},pass_textureCoords);\n        }\n        return vec4(0.4, 0.4, 0.4, 1.0);\n    }\n\n    float _nDot() {\n        vec3 unitNormal = normalize(surfaceNormal);\n        vec3 unitLightVector = normalize(lightVector);\n        return dot(unitNormal, unitLightVector);\n    }\n\n    vec4 diffuseLighting(){\n        float brightness = max(_nDot(), ${Locations.LIGHT_AMBIENT});\n        return vec4(${Locations.LIGHT_COLOR}.rgb * brightness, 1.0);\n    }\n\n    void main(void) {\n        gl_FragColor = getDiffuseTexture() * diffuseLighting();\n    }\n`;","import GLC from '../../GLCommander';\nimport VertexSource from './vertex';\nimport FragmentSource from './fragment';\nimport Locations from './locations';\n\n\nexport default class ModelShader {\n    constructor(){\n        const vertexShader = GLC.createVertexShader();\n        GLC.addShaderSource(vertexShader, VertexSource);\n        GLC.compileShader(vertexShader);\n        this.compileStatus(vertexShader);\n\n        const fragmentShader = GLC.createFragmentShader();\n        GLC.addShaderSource(fragmentShader, FragmentSource);\n        GLC.compileShader(fragmentShader);\n        this.compileStatus(fragmentShader);\n\n        const program = GLC.createShaderProgram();\n        GLC.attachShaderToProgram(program, vertexShader);\n        GLC.attachShaderToProgram(program, fragmentShader);\n        GLC.linkProgram(program);\n\n        this.positionAttribute = GLC.getAttribLocation(program, Locations.POSITION);\n        this.textureCoordsAttribute = GLC.getAttribLocation(program, Locations.TEXTURE_COORDS);\n        this.normalAttribute = GLC.getAttribLocation(program, Locations.NORMAL);\n\n        this.transformationMatrix = GLC.getUniformLocation(program, Locations.TRANSFORMATION_MATRIX);\n        this.viewMatrix =  GLC.getUniformLocation(program, Locations.VIEW_MATRIX);\n        this.projectionMatrix =  GLC.getUniformLocation(program, Locations.PROJECTION_MATRIX);\n\n        this.lightPosition = GLC.getUniformLocation(program, Locations.LIGHT_POSITION);\n        this.lightColor = GLC.getUniformLocation(program, Locations.LIGHT_COLOR);\n        this.lightAmbient = GLC.getUniformLocation(program, Locations.LIGHT_AMBIENT);\n\n        this.diffuseTexture = GLC.getUniformLocation(program, Locations.DIFFUSE_TEXTURE);\n        this.hasDiffuseTexture = GLC.getUniformLocation(program, Locations.HAS_DIFFUSE_TEXTURE);\n        this.program = program;\n    }\n\n    compileStatus = (shader) => {\n        if(!GLC.gl.getShaderParameter(shader, GLC.gl.COMPILE_STATUS)) {\n            console.error(GLC.gl.getShaderInfoLog(shader));\n        }\n    }\n\n    use = () => {\n        GLC.useProgram(this.program);\n    }\n\n    enablePosition = () => {\n        GLC.enableVertexAttribArray(this.positionAttribute);\n        GLC.pointToAttribute(this.positionAttribute, 3);\n    }\n\n    enableTextureCoords = () => {\n        GLC.enableVertexAttribArray(this.textureCoordsAttribute);\n        GLC.pointToAttribute(this.textureCoordsAttribute, 2);\n    }\n\n    enableNormals = () => {\n        GLC.enableVertexAttribArray(this.normalAttribute);\n        GLC.pointToAttribute(this.normalAttribute, 3);\n    }\n\n    enableTransformationMatrix = (matrix) => {\n        GLC.uploadMatrix4fv(this.transformationMatrix, matrix);\n    }\n\n    enableViewProjectionMatrices = (view, projection) => {\n        GLC.uploadMatrix4fv(this.viewMatrix, view);\n        GLC.uploadMatrix4fv(this.projectionMatrix, projection);\n    }\n\n    enableLight = (light) => {\n        GLC.uploadVec3f(this.lightPosition, light.getPosition());\n        GLC.uploadVec3f(this.lightColor, light.getColor());\n        GLC.uploadFloat(this.lightAmbient, light.getAmbient());\n    }\n}","//import { mat4 } from '../Utils/gl-matrix';\nimport { mat4, vec3 } from 'gl-matrix';\nvar Node = function(_name,instance,modelId) {\n  this.name = _name;\n  this.children = [];\n\n  this.modelId = modelId;\n  this.modelInstance = instance;\n\n};\n\nNode.prototype.setParent = function(parent) {\n  // remove us from our parent\n  if (this.parent) {\n    var ndx = this.parent.children.indexOf(this);\n    if (ndx >= 0) {\n      this.parent.children.splice(ndx, 1);\n    }\n  }\n\n  // Add us to our new parent\n  if (parent) {\n    parent.children.push(this);\n  }\n  this.parent = parent;\n};\n//m4 ==> (A,B,DST)\n//mat4 ==> (DST,A,B)\nNode.prototype.updateWorldMatrix = function(parentWorldMatrix) {\n  \n  var mi = this.modelInstance;\n  if (parentWorldMatrix) {\n    // a matrix was passed in so do the math\n    mat4.multiply(mi.worldMatrix,parentWorldMatrix, mi.transformationMatrix);\n  } else {\n    // no matrix was passed in so just copy local to world\n    mat4.copy( mi.model.worldMatrix, mi.transformationMatrix);\n  }\n\n  // now process all the children\n  var worldMatrix = mi.worldMatrix;\n  this.children.forEach(function(child) {\n    child.updateWorldMatrix(worldMatrix);\n  });\n};\n\nexport default Node;","import { mat4, vec3 } from 'gl-matrix';\n\nexport const toRadians = (deg) => deg * (Math.PI/180);\n\nexport const createTransformationMatrix = (x, y, z, rx, ry, rz, sx,sy,sz) => {\n    const matrix = [];\n    mat4.identity(matrix);\n    mat4.translate(matrix, matrix, vec3.fromValues(x, y, z));\n    mat4.rotateX(matrix, matrix, toRadians(rx));\n    mat4.rotateY(matrix, matrix, toRadians(ry));\n    mat4.rotateZ(matrix, matrix, toRadians(rz));\n    mat4.scale(matrix, matrix, vec3.fromValues(sx, sy, sz));\n    return matrix;\n}","import { createTransformationMatrix } from '../../Utils/maths';\nimport { mat4, vec3 } from 'gl-matrix';\n\nexport default class ModelInstance {\n    constructor(x, y, z, rx , ry, rz){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.rx = rx;\n        this.ry = ry;\n        this.rz = rz;\n        this.sx = 1;\n        this.sy = 1;\n        this.sz = 1;\n        \n        this.generateTransformationMatrix();//LocalMatrix\n        this.generateWorldMatrix();\n    }\n\n    setNode = (_node) => {\n        this.node = _node;\n    }\n\n    setPosition = (x,y,z)=>{\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.generateTransformationMatrix();\n        this.generateWorldMatrix();\n    }\n\n    setRotation = (x,y,z)=>{\n        this.rx = x;\n        this.ry = y;\n        this.rz = z;\n        this.generateTransformationMatrix();\n        this.generateWorldMatrix();\n    }\n\n    setScale = (x,y,z)=>{\n        this.sx = x;\n        this.sy = y;\n        this.sz = z;\n        this.generateTransformationMatrix();\n        this.generateWorldMatrix();\n    }\n\n    updateRotation = (rx, ry, rz) => {\n        this.rx += rx;\n        this.ry += ry;\n        this.rz += rz;\n        this.generateTransformationMatrix();\n        this.generateWorldMatrix();\n\n    }\n\n    translate =(x,y,z)=>{\n        this.x += x;\n        this.y += y;\n        this.z += z;\n        this.generateTransformationMatrix();\n        this.generateWorldMatrix();\n    }\n\n    scale=(x,y,z)=>{\n        this.sx *= x;\n        this.sy *= y;\n        this.sz *= z;\n        this.generateTransformationMatrix();\n        this.generateWorldMatrix();\n\n    }\n\n    generateTransformationMatrix = () => {\n        this.transformationMatrix = createTransformationMatrix(this.x, this.y, this.z, this.rx, this.ry, this.rz, this.sx,this.sy,this.sz);\n    }\n\n    generateWorldMatrix = () => {\n        this.worldMatrix = createTransformationMatrix(this.x, this.y, this.z, this.rx, this.ry, this.rz, this.sx,this.sy,this.sz);\n    }\n\n    getTransformationMatrix = () => this.transformationMatrix;\n    getWorldMatrix = () => this.worldMatrix;\n\n}","import GLC from '../../GLCommander';\nimport Shader from '../../Shaders/ModelShader';\nimport Node from '../../Node';\nimport ModelInstance from '../../Models/ModelInstance';\nimport { mat4, vec3 } from 'gl-matrix';\n\n\nexport default class ModelRenderer {\n\n    constructor(){\n        this.shader = new Shader();\n        this.models = {};\n        let originModelInstance =new ModelInstance(0,0,0,0,0,0);\n        this.originNode = new Node('origin',originModelInstance,null);\n        this.tree = this.originNode;\n    }\n\n    registerNewModel = (model, id) => {\n        if(!this.models[id]) {\n            this.models[id] = {\n                type: model,\n                instances: []\n            }\n        }\n    }\n\n    addToTree(name,instance,modelId){\n        var newNode = new Node(name,instance,modelId);\n\n        newNode.setParent(this.originNode);\n        //this.tree.children.push(newNode);\n\n    }\n\n    addInstance = (instance, id, name) => {\n        this.models[id].instances.push(instance);\n        this.addToTree(name,instance,id);\n    }\n\n    preRender = () => {\n        GLC.viewport();\n        GLC.depthTest(true);\n    }\n\n    updateWorldMatrix(parentNode){\n        var mi = parentNode.modelInstance;\n        \n        if (parentNode.modelId) {\n        // a matrix was passed in so do the math\n            mat4.multiply(mi.worldMatrix, mi.getTransformationMatrix(), mi.getWorldMatrix());\n        } else {\n        // no matrix was passed in so just copy local to world\n            mat4.copy( mi.worldMatrix,mi.transformationMatrix);\n        }\n        \n        // now process all the children\n        //var worldMatrix = this.worldMatrix;\n        parentNode.children.forEach(\n            function(child) {\n                this.updateWorldMatrix(child);\n            },this\n        );  \n    }\n\n    drawNode(node){\n        this.models[node.modelId].type.use(this.shader);\n        let wMatrix = node.modelInstance.getWorldMatrix();\n        this.shader.enableTransformationMatrix(wMatrix);\n        GLC.drawTriangles(this.models[node.modelId].type.indices.length);\n    }\n\n    traverse(node) {\n        for(let i = 0; i < node.length ; i++){\n            this.drawNode(node[i]);\n            if(node[i].children.length > 0){\n                this.traverse(node[i].children);\n            }\n        }\n    }\n\n    drawObjects(){\n        this.traverse(this.tree.children);\n    }\n\n    render = (light, camera) => {\n\n        this.preRender();\n        this.shader.use();\n        this.shader.enableLight(light);\n        camera.enable(this.shader);\n        \n        this.originNode.updateWorldMatrix(this.originNode.modelInstance.worldMatrix);\n\n        this.drawObjects();\n    }\n}\n","import GLC from '../GLCommander';\n\nexport default class Texture {\n    constructor(){\n        this.texture = GLC.createTexture();\n        GLC.bindTexture(this.texture);\n        GLC.defineDummyTexture();\n    }\n\n    loadTexture = (url) => {\n        const img = new Image();\n        img.setAttribute('crossOrigin', '');\n        img.onload = () => this.onLoad(img);\n        img.src = url;\n    }\n\n    onLoad = (img) => {\n        GLC.bindTexture(this.texture);\n        GLC.defineTexture(img);\n        if (this.isPowerOf2(img.width) && this.isPowerOf2(img.height)) {\n            GLC.texturePowerOfTwo();\n        } else {\n            GLC.textureNoPowerOfTwo();\n        }\n        this.done = true;\n    }\n\n    isPowerOf2 = (side) => (side & (side -1)) === 0;\n\n    enable = () => GLC.bindTexture(this.texture);\n    hasTexture = () => !!this.done;\n}","import Texture from './texture';\nimport GLC from '../GLCommander';\n\nexport default class Material {\n    constructor(){\n        this.diffuse = new Texture();\n    }\n\n    addDiffuse = (url) => {\n        this.diffuse.loadTexture(url);\n        return this;\n    }\n\n    _enableDiffuse = (shader) => {\n        GLC.activeTexture(0);\n        this.diffuse.enable();\n        GLC.uploadInt(shader.diffuseTexture, 0);\n        GLC.uploadBool(shader.hasDiffuseTexture, this.diffuse.hasTexture());\n    }\n\n    enable = (shader) => {\n        this._enableDiffuse(shader);\n    }\n}","import GLC from '../../GLCommander';\nimport Material from '../../Materials/material';\n\nexport default class ModelType {\n    constructor(vertices, indices, normals, textureCoords) {\n        this.vertices = vertices;\n        this.indices = indices;\n        this.normals = normals;\n        this.textureCoords = textureCoords;\n        this._genTextureCoordBuffer();\n        this._genVertexBuffer();\n        this._genIndexBuffer();\n        this._genNormalBuffer();\n        this.material = new Material();\n    }\n\n    _genTextureCoordBuffer = () => {\n        this.textureCoordBuffer = GLC.createBuffer();\n        GLC.bindArrayBuffer(this.textureCoordBuffer);\n        GLC.addArrayBufferData(this.textureCoords);\n        GLC.unbindArrayBuffer();\n    }\n\n    _genNormalBuffer = () => {\n        this.normalBuffer = GLC.createBuffer();\n        GLC.bindArrayBuffer(this.normalBuffer);\n        GLC.addArrayBufferData(this.normals);\n        GLC.unbindArrayBuffer();\n    }\n\n    _genVertexBuffer = () => {\n        this.vertexBuffer = GLC.createBuffer();\n        GLC.bindArrayBuffer(this.vertexBuffer);\n        GLC.addArrayBufferData(this.vertices);\n        GLC.unbindArrayBuffer();\n    }\n\n    _genIndexBuffer = () => {\n        this.indexBuffer = GLC.createBuffer();\n        GLC.bindElementArrayBuffer(this.indexBuffer);\n        GLC.addElementArrayBufferData(this.indices);\n        GLC.unbindElementArrayBuffer();\n    }\n\n\n    addMaterial = (material) => {\n        this.material = material;\n    }\n\n    use = (shader) => {\n        GLC.bindArrayBuffer(this.vertexBuffer);\n        shader.enablePosition();\n        GLC.bindArrayBuffer(this.textureCoordBuffer);\n        shader.enableTextureCoords();\n        GLC.bindArrayBuffer(this.normalBuffer);\n        shader.enableNormals();\n        GLC.bindElementArrayBuffer(this.indexBuffer);\n        this.material.enable(shader);\n    }\n}","const vertices = [\n    // Front \n    -1.0, -1.0,  1.0,\n     1.0, -1.0,  1.0,\n     1.0,  1.0,  1.0,\n    -1.0,  1.0,  1.0,\n    \n    // Back \n    -1.0, -1.0, -1.0,\n    -1.0,  1.0, -1.0,\n     1.0,  1.0, -1.0,\n     1.0, -1.0, -1.0,\n    \n    // Top \n    -1.0,  1.0, -1.0,\n    -1.0,  1.0,  1.0,\n     1.0,  1.0,  1.0,\n     1.0,  1.0, -1.0,\n    \n    // Bottom \n    -1.0, -1.0, -1.0,\n     1.0, -1.0, -1.0,\n     1.0, -1.0,  1.0,\n    -1.0, -1.0,  1.0,\n    \n    // Right \n     1.0, -1.0, -1.0,\n     1.0,  1.0, -1.0,\n     1.0,  1.0,  1.0,\n     1.0, -1.0,  1.0,\n    \n    // Left \n    -1.0, -1.0, -1.0,\n    -1.0, -1.0,  1.0,\n    -1.0,  1.0,  1.0,\n    -1.0,  1.0, -1.0,\n  ];\n\n  const indices = [\n    0,  1,  2,      0,  2,  3,    // Front\n    4,  5,  6,      4,  6,  7,    // Back\n    8,  9,  10,     8,  10, 11,   // Top\n    12, 13, 14,     12, 14, 15,   // Bottom\n    16, 17, 18,     16, 18, 19,   // Right\n    20, 21, 22,     20, 22, 23,   // Left\n  ];\n\n  const normals = [\n    // Front\n     0.0,  0.0,  1.0,\n     0.0,  0.0,  1.0,\n     0.0,  0.0,  1.0,\n     0.0,  0.0,  1.0,\n\n    // Back\n     0.0,  0.0, -1.0,\n     0.0,  0.0, -1.0,\n     0.0,  0.0, -1.0,\n     0.0,  0.0, -1.0,\n\n    // Top\n     0.0,  1.0,  0.0,\n     0.0,  1.0,  0.0,\n     0.0,  1.0,  0.0,\n     0.0,  1.0,  0.0,\n\n    // Bottom\n     0.0, -1.0,  0.0,\n     0.0, -1.0,  0.0,\n     0.0, -1.0,  0.0,\n     0.0, -1.0,  0.0,\n\n    // Right\n     1.0,  0.0,  0.0,\n     1.0,  0.0,  0.0,\n     1.0,  0.0,  0.0,\n     1.0,  0.0,  0.0,\n\n    // Left\n    -1.0,  0.0,  0.0,\n    -1.0,  0.0,  0.0,\n    -1.0,  0.0,  0.0,\n    -1.0,  0.0,  0.0\n  ];\n\n  const textureCoords = [\n    // Front\n    0.0,  0.0,\n    1.0,  0.0,\n    1.0,  1.0,\n    0.0,  1.0,\n    // Back\n    0.0,  0.0,\n    1.0,  0.0,\n    1.0,  1.0,\n    0.0,  1.0,\n    // Top\n    0.0,  0.0,\n    1.0,  0.0,\n    1.0,  1.0,\n    0.0,  1.0,\n    // Bottom\n    0.0,  0.0,\n    1.0,  0.0,\n    1.0,  1.0,\n    0.0,  1.0,\n    // Right\n    0.0,  0.0,\n    1.0,  0.0,\n    1.0,  1.0,\n    0.0,  1.0,\n    // Left\n    0.0,  0.0,\n    1.0,  0.0,\n    1.0,  1.0,\n    0.0,  1.0,\n  ];\n\n  export default {\n      vertices,\n      indices,\n      normals,\n      textureCoords\n  }","import { vec3 } from 'gl-matrix';\n\nexport default class Light {\n    constructor(x, y, z, r, g, b, ambient){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.ambient = ambient;\n    }\n\n    getPosition = () => vec3.fromValues(this.x, this.y, this.z);\n    getColor = () => vec3.fromValues(this.r, this.g, this.b);\n    getAmbient = () => this.ambient;\n}","import GLC from '../GLCommander';\n\nclass MouseListener {\n    constructor(){\n        this.onWheelListeners = [];\n        this.onDragListeners = []\n    }\n\n    init = () => {\n        let x = 0;\n        let y = 0;\n        let dragging = false;\n\n        GLC.gl.canvas.onwheel = (e) => {\n            this.onWheelListeners.forEach(listener => {\n                listener.onWheel(e);\n            })\n        }\n\n        GLC.gl.canvas.onmousedown = (e) => {\n            x = e.clientX;\n            y = e.clientY;\n            dragging = true;\n        }\n\n        GLC.gl.canvas.onmouseup = () => {\n            dragging = false;\n        }\n\n        GLC.gl.canvas.onmousemove = (e) => {\n            if (dragging) {\n                const dx = x - e.clientX;\n                const dy = y - e.clientY;\n                x = e.clientX;\n                y = e.clientY;\n                this.onDragListeners.forEach(listener => {\n                    listener.onDrag(dx, dy);\n                });\n            }\n        }\n    }\n\n    subscribeToDrag = (listener) => {\n        this.onDragListeners.push(listener);\n    }\n\n    subscribeToWheel = (listener) => {\n        this.onWheelListeners.push(listener)\n    }\n}\n\nconst MouseEvent = new MouseListener();\nexport default MouseEvent;","import { vec3, mat4 } from 'gl-matrix';\nimport { toRadians } from '../Utils/maths';\nimport GLC from '../GLCommander';\nimport MouseEvent from '../EventHandlers/mouse';\n\nexport default class Camera {\n  constructor(\n    x = 0,\n    y = 0,\n    z = 10,\n    pitch = 0,\n    yaw = 0,\n    roll = 0,\n    near = 0.1,\n    far = 1000,\n    fov = 40,\n  ) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.pitch = pitch;\n    this.roll = roll;\n    this.yaw = yaw;\n    this.near = near;\n    this.far = far;\n    this.fov = fov;\n    this.generateMatrices();\n    MouseEvent.subscribeToDrag(this);\n    MouseEvent.subscribeToWheel(this);\n  }\n\n  onDrag = (dx, dy) => {\n    this.x += dx * 0.01;\n    this.y -= dy * 0.01;\n    this.generateMatrices();\n  };\n\n  onWheel = e => {\n    this.z += e.deltaY * 0.2;\n    this.generateMatrices();\n  };\n\n  enable = shader => {\n    shader.enableViewProjectionMatrices(this.viewMatrix, this.projectionMatrix);\n  };\n\n  generateMatrices = () => {\n    this.viewMatrix = this.createViewMatrix();\n    this.projectionMatrix = this.createProjectionMatrix();\n  };\n\n  createViewMatrix = () => {\n    const matrix = [];\n    mat4.identity(matrix);\n    mat4.rotateX(matrix, matrix, toRadians(this.pitch));\n    mat4.rotateY(matrix, matrix, toRadians(this.yaw));\n    mat4.rotateZ(matrix, matrix, toRadians(this.roll));\n    mat4.translate(matrix, matrix, vec3.fromValues(-this.x, -this.y, -this.z));\n    return matrix;\n  };\n\n  createProjectionMatrix = () => {\n    const aspectRatio = GLC.gl.canvas.width / GLC.gl.canvas.height;\n    const matrix = [];\n    mat4.perspective(\n      matrix,\n      toRadians(this.fov),\n      aspectRatio,\n      this.near,\n      this.far,\n    );\n    return matrix;\n  };\n}\n","function Event(sender) {\r\n  this._sender = sender;\r\n  this._listeners = [];\r\n}\r\n\r\nEvent.prototype = {\r\n  attach: function (listener) {\r\n      this._listeners.push(listener);\r\n      return listener;\r\n  },\r\n  detach: function (listener) {\r\n      this._listeners.splice(this._listeners.indexOf(listener),1);\r\n  },\r\n  notify: function (args) {\r\n      for (var i = 0; i < this._listeners.length; i++) {\r\n          this._listeners[i](this._sender, args);\r\n      }\r\n  }\r\n};\r\n\r\nexport default Event;","import GLC from '../GLCommander';\nimport ModelRenderer from '../Render/ModelRenderer';\nimport ModelType from '../Models/ModelType';\nimport ModelInstance from '../Models/ModelInstance';\nimport Cube from './cube';\nimport Light from '../LightSource';\nimport Material from '../Materials/material';\nimport Camera from '../Camera';\nimport MouseEvent from '../EventHandlers/mouse';\nimport { vec3 } from 'gl-matrix';\nimport Event from '../Event';\n\nexport default function Scene(id,webglInstance) {\n  this.canvas = document.querySelector(`#${id}`);\n  this.webglInstance = webglInstance;\n  if (!this.canvas) {\n    return;\n  }\n\n  this.gl = this.canvas.getContext('webgl');\n\n  if (!this.gl) {\n    return;\n  }\n\n  GLC.init(this.gl);\n  MouseEvent.init();\n\n  this.camera = new Camera(0, 2, 40);\n  this.light = new Light(100, -100, -100, 1.0, 1.0, 1.0, 0.4);\n\n  const vertices = Cube.vertices;\n  const indices = Cube.indices;\n  const normals = Cube.normals;\n  const textureCoords = Cube.textureCoords;\n\n  this.modelRenderer = new ModelRenderer();\n\n  const createNewModel = (name, file) => {\n    const material = new Material();\n    switch (file) {\n      case 'green':\n        material.addDiffuse(require('../resources/green.png'));\n        break;\n      case 'blue':\n        material.addDiffuse(require('../resources/blue.png'));\n        break;\n      case 'red':\n        material.addDiffuse(require('../resources/red.png'));\n        break;\n    }\n\n    const modelType = new ModelType(vertices, indices, normals, textureCoords);\n    modelType.addMaterial(material);\n\n    this.modelRenderer.registerNewModel(modelType, name);\n  };\n\n  createNewModel('cubeR', 'red');\n  createNewModel('cubeB', 'blue');\n  createNewModel('cubeG', 'green');\n\n  const instance = new ModelInstance(0, 0, 0, 0, 0, 0);\n\n  const instance2 = new ModelInstance(3, 0, 0, 0, 0, 0);\n\n  const instance3 = new ModelInstance(-3, 0, 0, 0, 0, 0);\n\n\n  this.modelRenderer.addInstance(instance, 'cubeR', 'redBox');\n  this.modelRenderer.addInstance(instance2, 'cubeB', 'blueBox');\n  this.modelRenderer.addInstance(instance3, 'cubeG', 'greenBox');\n\n  this.Update = new Event(this);\n  this.webglInstance.UpdateEvent = this.Update;\n  this.time = 0;\n  this.backgroundColor = [1.0, 1.0, 1.0];\n\n  const render = () => {\n    this.time += 0.005;\n    GLC.clear(...this.backgroundColor, 1.0);\n\n    // instance.updateRotation(1, 1, 1);\n    instance.translate(0, Math.sin(this.time * 8) * 0.02, 0);\n    //instance2.updateRotation(0, 0, 0.2);\n    let k = (Math.sin(this.time*16) * 0.01)+1;\n    instance3.scale(k, k, k);\n    \n    this.Update.notify(this.webglInstance);\n\n    // instance.updateRotation(0,1,0);\n\n    this.modelRenderer.render(this.light, this.camera);\n    window.requestAnimationFrame(render);\n  };\n\n  window.requestAnimationFrame(render);\n}\n","import cx from 'classnames';\nimport React, { Component } from 'react';\n\nexport default class UITreeNode extends Component {\n  constructor(props) {\n    super(props);\n    this.innerRef = React.createRef();\n  }\n\n  renderCollapse = () => {\n    const { index } = this.props;\n\n    if (index.children && index.children.length) {\n      const { collapsed } = index.node;\n\n      return (\n        <span\n          className={cx('collapse', collapsed ? 'caret-right' : 'caret-down')}\n          onMouseDown={e => e.stopPropagation()}\n          onClick={this.handleCollapse}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  renderChildren = () => {\n    const { index, tree, dragging } = this.props;\n\n    if (index.children && index.children.length) {\n      const childrenStyles = {\n        paddingLeft: this.props.paddingLeft\n      };\n\n      return (\n        <div className=\"children\" style={childrenStyles}>\n          {index.children.map(child => {\n            const childIndex = tree.getIndex(child);\n\n            return (\n              <UITreeNode\n                tree={tree}\n                index={childIndex}\n                key={childIndex.id}\n                dragging={dragging}\n                paddingLeft={this.props.paddingLeft}\n                onCollapse={this.props.onCollapse}\n                onDragStart={this.props.onDragStart}\n              />\n            );\n          })}\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  render() {\n    const { tree, index, dragging } = this.props;\n    const { node } = index;\n    const styles = {};\n\n    return (\n      <div\n        className={cx('m-node', {\n          placeholder: index.id === dragging\n        })}\n        style={styles}\n      >\n        <div\n          className=\"inner\"\n          ref={this.innerRef}\n          onMouseDown={this.handleMouseDown}\n        >\n          {this.renderCollapse()}\n          {tree.renderNode(node)}\n        </div>\n        {node.collapsed ? null : this.renderChildren()}\n      </div>\n    );\n  }\n\n  handleCollapse = e => {\n    e.stopPropagation();\n    const nodeId = this.props.index.id;\n\n    if (this.props.onCollapse) {\n      this.props.onCollapse(nodeId);\n    }\n  };\n\n  handleMouseDown = e => {\n    const nodeId = this.props.index.id;\n    const dom = this.innerRef.current;\n\n    if (this.props.onDragStart) {\n      this.props.onDragStart(nodeId, dom, e);\n    }\n  };\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Tree from './tree';\nimport Node from './node';\n\nexport default class UITree extends Component {\n  static propTypes = {\n    tree: PropTypes.object.isRequired,\n    paddingLeft: PropTypes.number,\n    renderNode: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    paddingLeft: 20\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = this.init(props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this._updated) {\n      this.setState(this.init(nextProps));\n    } else {\n      this._updated = false;\n    }\n  }\n\n  init = props => {\n    const tree = new Tree(props.tree);\n    tree.isNodeCollapsed = props.isNodeCollapsed;\n    tree.renderNode = props.renderNode;\n    tree.changeNodeCollapsed = props.changeNodeCollapsed;\n    tree.updateNodesPosition();\n\n    return {\n      tree: tree,\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    };\n  };\n\n  getDraggingDom = () => {\n    const { tree, dragging } = this.state;\n\n    if (dragging && dragging.id) {\n      const draggingIndex = tree.getIndex(dragging.id);\n      const draggingStyles = {\n        top: dragging.y,\n        left: dragging.x,\n        width: dragging.w\n      };\n\n      return (\n        <div className=\"m-draggable\" style={draggingStyles}>\n          <Node\n            tree={tree}\n            index={draggingIndex}\n            paddingLeft={this.props.paddingLeft}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  render() {\n    const tree = this.state.tree;\n    const dragging = this.state.dragging;\n    const draggingDom = this.getDraggingDom();\n\n    return (\n      <div className=\"m-tree\">\n        {draggingDom}\n        <Node\n          tree={tree}\n          index={tree.getIndex(1)}\n          key={1}\n          paddingLeft={this.props.paddingLeft}\n          onDragStart={this.dragStart}\n          onCollapse={this.toggleCollapse}\n          dragging={dragging && dragging.id}\n        />\n      </div>\n    );\n  }\n\n  dragStart = (id, dom, e) => {\n    if (e.button !== 0) return;\n    this.dragging = {\n      id: id,\n      w: dom.offsetWidth,\n      h: dom.offsetHeight,\n      x: dom.offsetLeft,\n      y: dom.offsetTop\n    };\n\n    this._startX = dom.offsetLeft;\n    this._startY = dom.offsetTop;\n    this._offsetX = e.clientX;\n    this._offsetY = e.clientY;\n    this._start = true;\n\n    window.addEventListener('mousemove', this.drag);\n    window.addEventListener('mouseup', this.dragEnd);\n  };\n\n  // oh\n  drag = e => {\n    if (this._start) {\n      this.setState({\n        dragging: this.dragging\n      });\n      this._start = false;\n    }\n\n    const tree = this.state.tree;\n    const dragging = this.state.dragging;\n    const paddingLeft = this.props.paddingLeft;\n    let newIndex = null;\n    let index = tree.getIndex(dragging.id);\n    const collapsed = index.node.collapsed;\n\n    const _startX = this._startX;\n    const _startY = this._startY;\n    const _offsetX = this._offsetX;\n    const _offsetY = this._offsetY;\n\n    const pos = {\n      x: _startX + e.clientX - _offsetX,\n      y: _startY + e.clientY - _offsetY\n    };\n    dragging.x = pos.x;\n    dragging.y = pos.y;\n\n    const diffX = dragging.x - paddingLeft / 2 - (index.left - 2) * paddingLeft;\n    const diffY = dragging.y - dragging.h / 2 - (index.top - 2) * dragging.h;\n\n    if (diffX < 0) {\n      // left\n      if (index.parent && !index.next) {\n        newIndex = tree.move(index.id, index.parent, 'after');\n      }\n    } else if (diffX > paddingLeft) {\n      // right\n      if (index.prev) {\n        const prevNode = tree.getIndex(index.prev).node;\n        if (!prevNode.collapsed && !prevNode.leaf) {\n          newIndex = tree.move(index.id, index.prev, 'append');\n        }\n      }\n    }\n\n    if (newIndex) {\n      index = newIndex;\n      newIndex.node.collapsed = collapsed;\n      dragging.id = newIndex.id;\n    }\n\n    if (diffY < 0) {\n      // up\n      const above = tree.getNodeByTop(index.top - 1);\n      newIndex = tree.move(index.id, above.id, 'before');\n    } else if (diffY > dragging.h) {\n      // down\n      if (index.next) {\n        const below = tree.getIndex(index.next);\n        if (below.children && below.children.length && !below.node.collapsed) {\n          newIndex = tree.move(index.id, index.next, 'prepend');\n        } else {\n          newIndex = tree.move(index.id, index.next, 'after');\n        }\n      } else {\n        const below = tree.getNodeByTop(index.top + index.height);\n        if (below && below.parent !== index.id) {\n          if (\n            below.children &&\n            below.children.length &&\n            !below.node.collapsed\n          ) {\n            newIndex = tree.move(index.id, below.id, 'prepend');\n          } else {\n            newIndex = tree.move(index.id, below.id, 'after');\n          }\n        }\n      }\n    }\n\n    if (newIndex) {\n      newIndex.node.collapsed = collapsed;\n      dragging.id = newIndex.id;\n    }\n\n    this.setState({\n      tree: tree,\n      dragging: dragging\n    });\n  };\n\n  dragEnd = () => {\n    this.setState({\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    });\n\n    this.change(this.state.tree);\n    window.removeEventListener('mousemove', this.drag);\n    window.removeEventListener('mouseup', this.dragEnd);\n  };\n\n  change = tree => {\n    this._updated = true;\n    if (this.props.onChange) this.props.onChange(tree.obj);\n  };\n\n  toggleCollapse = nodeId => {\n    const tree = this.state.tree;\n    const index = tree.getIndex(nodeId);\n    const node = index.node;\n    node.collapsed = !node.collapsed;\n    tree.updateNodesPosition();\n\n    this.setState({\n      tree: tree\n    });\n\n    this.change(tree);\n  };\n}\n","import React, { Component } from 'react';\n\nimport cx from 'classnames';\n\nimport './style.css';\nimport './lib/react-ui-tree.css';\n\n// import treeData from './tree';\n\nimport Tree from './lib/react-ui-tree.js';\n\nexport default class TreeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: null,\n      tree: props.treeData,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ tree: nextProps.treeData });\n  }\n\n  renderNode = node => (\n    <span\n      className={cx('node', {\n        'is-active': node === this.state.active,\n      })}\n      onClick={this.onClickNode.bind(null, node)}\n    >\n      {node.name}\n    </span>\n  );\n\n  onClickNode = node => {\n    this.setState({\n      active: node,\n    });\n\n    this.props.onSelect(node);\n  };\n\n  render() {\n    return (\n      <div className=\"tree\">\n        <Tree\n          paddingLeft={20}\n          tree={this.state.tree}\n          onChange={this.handleChange}\n          isNodeCollapsed={this.isNodeCollapsed}\n          renderNode={this.renderNode}\n        />\n      </div>\n    );\n  }\n\n  handleChange = tree => {\n    this.setState({\n      tree,\n    });\n  };\n\n  updateTree = () => {\n    const { tree } = this.state;\n    tree.children.push({ module: 'test' });\n    this.setState({\n      tree,\n    });\n  };\n}\n","import React, { Component } from 'react';\nimport './style.css';\nimport { vec3 } from 'gl-matrix';\nclass Line extends Component {\n  constructor(props) {\n    super(props);\n    this.onNodeSelect = this.onNodeSelect;\n    if (props.lineType === 'Scale') {\n      this.state = {\n        type: props.lineType,\n        // values: vec3.fromValues(1,1,1)\n        x: 1,\n        y: 1,\n        z: 1,\n      };\n    } else {\n      this.state = {\n        type: props.lineType,\n        // values: vec3.fromValues(1,1,1)\n        x: 0,\n        y: 0,\n        z: 0,\n      };\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"line\">\n          <button onClick={this.handleClick}>{this.state.type}</button>\n          <input ref=\"xx\" value={this.state.x} placeholder=\"x\" onChange={this.xOnChange} />\n          <input ref=\"yy\" value={this.state.y} placeholder=\"y\" onChange={this.yOnChange} />\n          <input ref=\"zz\" value={this.state.z} placeholder=\"z\" onChange={this.zOnChange} />\n        </div>\n      </div>\n    );\n  }\n\n  onNodeSelect = (transform) =>{\n    switch (this.state.type) {\n      case 'Position':\n        this.setState({\n          x:transform.position[0],\n          y:transform.position[1],\n          z:transform.position[2]\n        });\n        \n        break;\n      case 'Rotation':\n        this.setState({\n          x:transform.rotation[0],\n          y:transform.rotation[1],\n          z:transform.rotation[2]\n        });\n        break;\n      case 'Scale':\n        this.setState({\n          x:transform.scale[0],\n          y:transform.scale[1],\n          z:transform.scale[2]\n        });\n        break;\n    }\n  }; \n\n  handleChange(val,type){\n    var x,y,z;\n\n    if(type == 0){//x\n      this.setState({\n        x: val\n      });\n      x = this.myParseFloat(val);\n\n      y = this.state.y;\n      z = this.state.z;\n    }else if(type == 1){//y\n      this.setState({\n        y: val\n      });\n      y = this.myParseFloat(val);\n\n      x = this.state.x;\n      z = this.state.z;\n    }else if(type == 2){//z\n      this.setState({\n        z: val\n      });\n      z = this.myParseFloat(val);\n\n      x = this.state.x;\n      y = this.state.y;\n    }\n\n    this.props.action(x,y,z);\n\n  }\n\n  xOnChange = e => {\n    const val = e.target.value == '' ? 0 : e.target.value;\n    this.handleChange(val,0);\n  };\n\n  yOnChange = e => {\n    const val = e.target.value == '' ? 0 : e.target.value;\n    this.handleChange(val,1);\n\n  };\n\n  zOnChange = e => {\n    const val = e.target.value == '' ? 0 : e.target.value;\n    this.handleChange(val,2);\n  };\n\n  handleClick = () => {\n    const x = this.myParseFloat(this.state.x);\n    const y = this.myParseFloat(this.state.y);\n    const z = this.myParseFloat(this.state.z);\n    switch (this.state.type) {\n      case 'Position':\n        this.props.translate(x,y,z);\n        break;\n      case 'Rotation':\n        this.props.rotate(x, y, z);\n        break;\n      case 'Scale':\n        this.props.scale(x, y, z);\n        break;\n      case 'Background':\n        this.props.changeBG(x, y, z);\n    }\n  };\n\n  myParseFloat(str){\n    while(str[0] === '0' && str.length > 1){\n      str = str.substr(1);\n    }\n    return parseFloat(str);\n  }\n\n  \n}\n\nexport default Line;\n","import React, { Component } from 'react';\nimport './style.css';\n\nclass BackgroundLine extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: props.lineType,\n      // values: vec3.fromValues(1,1,1)\n      x: 0,\n      y: 0,\n      z: 0,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"background-line\">\n          <h4>Background Color</h4>\n          <input placeholder=\"R\" onChange={this.xOnChange} />\n          <input placeholder=\"G\" onChange={this.yOnChange} />\n          <input placeholder=\"B\" onChange={this.zOnChange} />\n        </div>\n      </div>\n    );\n  }\n\n  xOnChange = e => {\n    this.setState({\n      // values:vec3.fromValues(e.target.value,this.state.values[1],this.state.values[2])\n      x: e.target.value,\n    });\n    this.props.changeBG(\n      parseFloat(this.state.x) / 255,\n      parseFloat(this.state.y) / 255,\n      parseFloat(this.state.z) / 255,\n    );\n  };\n\n  yOnChange = e => {\n    this.setState({\n      y: e.target.value,\n    });\n    this.props.changeBG(\n      parseFloat(this.state.x) / 255,\n      parseFloat(this.state.y) / 255,\n      parseFloat(this.state.z) / 255,\n    );\n  };\n\n  zOnChange = e => {\n    this.setState({\n      z: e.target.value,\n    });\n    this.props.changeBG(\n      parseFloat(this.state.x) / 255,\n      parseFloat(this.state.y) / 255,\n      parseFloat(this.state.z) / 255,\n    );\n  };\n}\n\nexport default BackgroundLine;\n","import React from 'react';\nimport { vec3 } from 'gl-matrix';\nimport Scene from './Scene';\nimport Tree from '../App/Tree';\nimport Line from './EditorUI/Line';\n\nimport Event from './Event';\nimport ModelRenderer from './Render/ModelRenderer';\nimport ModelInstance from './Models/ModelInstance';\nimport './style.css';\nimport BackgroundLine from './EditorUI/Line/BackgroundLine';\nconst greenCube = require('./resources/cube-logo-green.png');\nconst blueCube = require('./resources/cube-logo-blue.png');\nconst redCube = require('./resources/cube-logo-red.png');\n\nexport var Transform = function(x, y, z, rx, ry, rz, sx, sy, sz) {\n  this.position = vec3.fromValues(x, y, z);\n  this.rotation = vec3.fromValues(rx, ry, rz);\n  this.scale = vec3.fromValues(sx, sy, sz);\n};\n//()=>{this.UpdateEvent.detach(this.Main); to detach functions from event\n\nexport default class WebGL extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tree: {},\n      counter: 0,\n      selectedNode: null,\n      selectedTransform: new Transform(1, 1, 1, 0, 0, 0, 1, 1, 1),\n      translateBox: false,\n      rotateBox: false,\n      scaleBox: false\n    };\n    this.scene = null;\n    // this.handleClick = this.handleClick.bind(this);\n    this.handleClick2 = this.handleClick2.bind(this);\n    this.handleCheckBoxChange = this.handleCheckBoxChange.bind(this);\n    this.selectedChanged = new Event(this);\n    this.selectedChanged.attach(function(sender,args){\n      sender._treeSelect(args);\n    });\n  }\n\n  componentDidMount() {\n    this.UpdateEvent = null;\n    this.scene = new Scene('webgl',this);\n    this.Main = this.UpdateEvent.attach(function(_scene,_webgl){//_scene: scene instance,_webgl: this\n      //args.updateRotation(0, 0, 0.3);\n      if(!_webgl.state.selectedNode){\n        return;\n      }\n      let time = _scene.time;\n      if(_webgl.state.rotateBox){\n        _webgl.state.selectedNode.modelInstance.updateRotation(0, 0, 0.3);\n      }\n      if(_webgl.state.scaleBox){\n        let k = (Math.sin(time*16) * 0.01)+1;\n        _webgl.state.selectedNode.modelInstance.scale(k, k, k);\n      }\n      if(_webgl.state.translateBox){\n        _webgl.state.selectedNode.modelInstance.translate(0, Math.sin(time * 8) * 0.02, 0);\n      }\n      \n      //_scene.time\n    });\n    this.setState({\n      tree: this.scene.modelRenderer.tree,\n      counter: this.state.counter + 1,\n    });\n  }\n\n  nodeToTransform = node => {\n    const mi = node.modelInstance;\n    const transform = new Transform(\n      mi.x,\n      mi.y,\n      mi.z,\n      mi.rx,\n      mi.ry,\n      mi.rz,\n      mi.sx,\n      mi.sy,\n      mi.sz,\n    );\n    return transform;\n  };\n\n  treeSelect = node => {\n    this.setState({ selectedNode: node });\n    this.selectedChanged.notify(node);\n    //this._treeSelect(node);\n  };\n  //Bu fonksiyon hemen üstündeki fonksiyon ile beraber\n  _treeSelect(node){\n    const transform = this.nodeToTransform(node);\n    this.setState({ selectedTransform: transform });\n    \n    this.refs.linePos.onNodeSelect(transform);\n    this.refs.lineRot.onNodeSelect(transform);\n    this.refs.lineScale.onNodeSelect(transform);\n  }\n\n  onKeyPressed = e => {\n    if (e.keyCode == 46) {\n      // this.state.tree.children[this.state.selectedNode.name];\n      this.deleteFromTree(this.state.selectedNode);\n    }\n  };\n\n  deleteFromTree = node => {\n    const arr = this.state.tree.children;\n    const key = 'name';\n    const value = node.name;\n    const i = this.functiontofindIndexByKeyValue(arr, key, value);\n    arr.splice(i, 1);\n  };\n\n  functiontofindIndexByKeyValue(arraytosearch, key, valuetosearch) {\n    for (let i = 0; i < arraytosearch.length; i++) {\n      if (arraytosearch[i][key] == valuetosearch) {\n        return i;\n      }\n    }\n    return null;\n  }\n  render() {\n    return (\n      <div onKeyDown={this.onKeyPressed} tabIndex=\"0\" className=\"allDivs\">\n        <div className=\"leftDiv\">\n          <Tree treeData={this.state.tree} onSelect={this.treeSelect} />\n        </div>\n        <div className=\"midDiv\">\n          <canvas\n            id=\"webgl\"\n            width=\"700\"\n            height=\"700\"\n            style={{ border: '1px solid black' }}\n          />\n          <div className=\"cubesContainer\">\n            <img onClick={this.handleClickGreen} src={greenCube} />\n            <img onClick={this.handleClickBlue} src={blueCube} />\n            <img onClick={this.handleClickRed} src={redCube} />\n          </div>\n        </div>\n\n        <div className=\"rightDiv\">\n          <div className=\"transformDiv\">\n            <h3>Transform</h3>\n            <Line\n              ref=\"linePos\"\n              lineType=\"Position\"\n              values={this.state.selectedTransform.position}\n              translate={this.translate}\n              action={this.setPosition}\n            />\n            <Line\n              ref=\"lineRot\"\n              lineType=\"Rotation\"\n              values={this.state.selectedTransform.rotation}\n              rotate={this.rotate}\n              action={this.setRotation}\n\n            />\n            <Line\n              ref=\"lineScale\"\n              lineType=\"Scale\"\n              values={this.state.selectedTransform.scale}\n              scale={this.scale}\n              action={this.setScale}\n              \n            />\n            <div>\n            <label>\n              Translate Animation: \n              <input\n                name=\"translateBox\"\n                type=\"checkbox\"\n                checked={this.state.translateBox}\n                onChange={this.handleCheckBoxChange} />\n            </label>\n            <br/>\n            <label>\n              Rotate Animation: \n              <input\n                name=\"rotateBox\"\n                type=\"checkbox\"\n                checked={this.state.rotateBox}\n                onChange={this.handleCheckBoxChange} />\n            </label>\n            <br/>\n            <label>\n              Scale Animation: \n              <input\n                name=\"scaleBox\"\n                type=\"checkbox\"\n                checked={this.state.scaleBox}\n                onChange={this.handleCheckBoxChange} />\n            </label>\n            <br/>\n            </div>\n            \n          </div>\n          <div>\n            <BackgroundLine\n              lineType=\"Background\"\n              values={this.scene ? this.scene.backgroundColor : [1, 1, 1]}\n              changeBG={this.changeBG}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  changeBG = (x, y, z) => {\n    if (this.scene) this.scene.backgroundColor = [x, y, z];\n  };\n\n  setPosition = (x,y,z) => {\n    const obj = this.state.selectedNode;\n    if (obj) obj.modelInstance.setPosition(x, y, z);\n  };\n  setRotation = (x,y,z) => {\n    const obj = this.state.selectedNode;\n    if (obj) obj.modelInstance.setRotation(x, y, z);\n  };\n  setScale = (x,y,z) => {\n    const obj = this.state.selectedNode;\n    if (obj) obj.modelInstance.setScale(x, y, z);\n  };\n\n  translate = (x, y, z) => {\n    const obj = this.state.selectedNode;\n    if (obj) obj.modelInstance.translate(x, y, z);\n  };\n\n  rotate = (x, y, z) => {\n    const obj = this.state.selectedNode;\n    if (obj) obj.modelInstance.updateRotation(x, y, z);\n  };\n\n  scale = (x, y, z) => {\n    const obj = this.state.selectedNode;\n    if (obj) {\n      if (x == 0) x = 1;\n      if (y == 0) y = 1;\n      if (z == 0) z = 1;\n      obj.modelInstance.scale(x, y, z);\n    }\n  };\n\n  handleClickGreen = () => {\n    const scene = this.scene;\n    const x = Math.floor(Math.random() * 10 - 5);\n    const y = Math.floor(Math.random() * 10 - 5);\n    const z = Math.floor(Math.random() * 10 - 5);\n\n    const instance = new ModelInstance(x, y, z, x, y, z);\n\n    scene.modelRenderer.addInstance(\n      instance,\n      'cubeG',\n      `green${this.state.counter.toString()}`,\n    );\n\n    this.setState({\n      tree: scene.modelRenderer.tree,\n      counter: this.state.counter + 1,\n    });\n  };\n\n  handleClickBlue = () => {\n    const scene = this.scene;\n    const x = Math.floor(Math.random() * 10 - 5);\n    const y = Math.floor(Math.random() * 10 - 5);\n    const z = Math.floor(Math.random() * 10 - 5);\n\n    const instance = new ModelInstance(x, y, z, x, y, z);\n\n    scene.modelRenderer.addInstance(\n      instance,\n      'cubeB',\n      `blue${this.state.counter.toString()}`,\n    );\n\n    this.setState({\n      tree: scene.modelRenderer.tree,\n      counter: this.state.counter + 1,\n    });\n  };\n\n  handleClickRed = () => {\n    const scene = this.scene;\n    const x = Math.floor(Math.random() * 10 - 5);\n    const y = Math.floor(Math.random() * 10 - 5);\n    const z = Math.floor(Math.random() * 10 - 5);\n\n    const instance = new ModelInstance(x, y, z, x, y, z);\n\n    scene.modelRenderer.addInstance(\n      instance,\n      'cubeR',\n      `red${this.state.counter.toString()}`,\n    );\n\n    this.setState({\n      tree: scene.modelRenderer.tree,\n      counter: this.state.counter + 1,\n    });\n  };\n\n  handleClick2(event) {\n    const obj = this.state.selectedNode;\n    if (obj) obj.modelInstance.translate(1, 0, 0);\n  }\n\n  findObject = (selectedNode,name) => {\n    let objName;\n    if (selectedNode != null) {\n      objName = selectedNode.name;\n      if (objName != 'origin') {\n        const arr = this.state.tree.children;\n        const obj = arr.find(node => node.name == objName);\n        return obj;\n      }\n    }\n  };\n\n  handleCheckBoxChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n}\n","/**\n *\n * App\n *\n * This component is the skeleton around the actual pages, and should only\n * contain code that should be seen on all pages. (e.g. navigation bar)\n */\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport WebGL from '../WebGL';\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\n/* const AppWrapper = styled.div`\n  display: flex;\n  margin-left: 320px;\n  margin-top: 30px;\n`; */\n\nconst Container = styled.div``;\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      checked: false,\n    };\n  }\n\n  render() {\n    return (\n    <Container>\n      <WebGL />\n    </Container>\n\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './App/index.css';\nimport App from './App/';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}